<html>
<head>
<script type="text/javascript">
	window.addEventListener('mousemove', function(e) {
		document.getElementById('x-value').textContent = e.x;
		document.getElementById('y-value').textContent = e.y;
		document.getElementById('screenX-value').textContent = e.screenX;
		document.getElementById('screenY-value').textContent = e.screenY;
		document.getElementById('clientX-value').textContent = e.clientX;
		document.getElementById('clientY-value').textContent = e.clientY;
		document.getElementById('windowScreenLeft-value').textContent = window.screenLeft;
		document.getElementById('windowScreenTop-value').textContent = window.screenTop;
		document.getElementById('boundingClientRectX-value').textContent = document.getElementById('buttonCoordinates').getBoundingClientRect().left;
		document.getElementById('boundingClientRectY-value').textContent = document.getElementById('buttonCoordinates').getBoundingClientRect().top;

		document.getElementById('screenElementX-value').textContent = (Math.round((((window.outerWidth - window.innerWidth) / 2) + window.screenX) * window.devicePixelRatio)) + document.getElementById('buttonCoordinates').getBoundingClientRect().left;
		document.getElementById('screenElementY-value').textContent = (Math.round(((window.outerHeight - window.innerHeight) - ((window.outerWidth - window.innerWidth) / 2) + window.screenY) * window.devicePixelRatio)) + document.getElementById('buttonCoordinates').getBoundingClientRect().top;

		document.getElementById('screenToViewportX-value').textContent = Math.round((((window.outerWidth - window.innerWidth) / 2) + window.screenX) * window.devicePixelRatio);
		document.getElementById('screenToViewportY-value').textContent = Math.round(((window.outerHeight - window.innerHeight) - ((window.outerWidth - window.innerWidth) / 2) + window.screenY) * window.devicePixelRatio);
	});

	var txt = "";
	txt += "<p>Total width/height: " + screen.width + "*" + screen.height + "</p>";
	txt += "<p>Available width/height: " + screen.availWidth + "*" + screen.availHeight + "</p>";
	txt += "<p>Color depth: " + screen.colorDepth + "</p>";
	txt += "<p>Color resolution: " + screen.pixelDepth + "</p>";

	document.getElementById("demo").innerHTML = txt;

	function GetScreenCordinates(obj) {
		document.getElementById('windowScreenX-value').textContent = document.getElementById('buttonCoordinates').offset().left + window.screenX;
		document.getElementById('windowScreenY-value').textContent = document.getElementById('buttonCoordinates').offset().top + window.screenY;

		var p = {};
		p.x = obj.offsetLeft;
		p.y = obj.offsetTop;
		while (obj.offsetParent) {
			p.x = p.x + obj.offsetParent.offsetLeft;
			p.y = p.y + obj.offsetParent.offsetTop;
			if (obj == document.getElementsByTagName("body")[0]) {
				break;
			} else {
				obj = obj.offsetParent;
			}
		}
		return p;
	}

	function GetTextboxCordinates() {
		var txt = document.getElementById("txtText");
		var p = GetScreenCordinates(txt);
		alert("X:" + p.x + " Y:" + p.y);
	}
	function onAfterLoad() {

		document.write('<button onclick="onAfterLoad();" id="generateCoordinates">generateCoordinates</button>');
		document.write('<p>ggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggg</p>');

		document.write('<p>Your viewport window.mozInnerScreenX is ' + Math.round(window.mozInnerScreenX * window.devicePixelRatio) + '</p>');
		document.write('<p>Your viewport window.mozInnerScreenY is ' + Math.round(window.mozInnerScreenY * window.devicePixelRatio) + '</p>');

		document.write('<p>Your viewport window.innerWidth is ' + window.innerWidth + '</p>');
		document.write('<p>Your viewport window.innerHeight is ' + window.innerHeight + '</p>');
		document.write('<p>Your viewport window.outerWidth is ' + window.outerWidth + '</p>');
		document.write('<p>Your viewport window.outerHeight is ' + window.outerHeight + '</p>');
		document.write('<p>Your viewport window.mozInnerScreenX is ' + window.mozInnerScreenX + '</p>');
		document.write('<p>Your viewport window.mozInnerScreenY is ' + window.mozInnerScreenY + '</p>');
		document.write('<p>Your viewport window.screenX is ' + window.screenX + '</p>');
		document.write('<p>Your viewport window.screenY is ' + window.screenY + '</p>');
		document.write('<p>Your viewport window.screenLeft is ' + window.screenLeft + '</p>');
		document.write('<p>Your viewport window.screenTop is ' + window.screenTop + '</p>');
		document.write('<p>Your viewport screen.availHeight is ' + screen.availHeight + '</p>');
		document.write('<p>Your viewport screen.availWidth is ' + screen.availWidth + '</p>');
		document.write('<p>Your viewport screen.availHeight is ' + screen.availHeight + '</p>');
		document.write('<p>Your viewport screen.availWidth is ' + screen.availWidth + '</p>');
		document.write('<p>-------------------------------------------------------</p>');
		document.write('<p>Your viewport Top is ' + Math.round(((window.outerHeight - window.innerHeight) - ((window.outerWidth - window.innerWidth) / 2) + window.screenY) * window.devicePixelRatio) + '</p>');

		document.write('<p>Your viewport Left is ' + Math.round((((window.outerWidth - window.innerWidth) / 2) + window.screenX) * window.devicePixelRatio) + '</p>');

		document.write('<p>Your viewport width frame ' + (Math.round((window.outerWidth - window.innerWidth) / 2)) + '</p>');
		//document.write('<p>Your viewport jsPixelRatio is ' + jsPixelRatio + '</p>');
		document.write('<p>Your viewport window.devicePixelRatio is ' + window.devicePixelRatio + '</p>');

		document.write('<p>Your viewport window.screen.systemXDPI / window.screen.logicalXDPI is ' + window.screen.systemXDPI / window.screen.logicalXDPI + '</p>');

		//var util = window.content.QueryInterface(Components.interfaces.nsIInterfaceRequestor).getInterface(Components.interfaces.nsIDOMWindowUtils);
		//document.write(util.screenPixelsPerCSSPixel);

		//var domWindowUtils = window.QueryInterface(Components.interfaces.nsIInterfaceRequestor).getInterface(Components.interfaces.nsIDOMWindowUtils);
		//document.write('<p>Your viewport domWindowUtils.screenPixelsPerCSSPixel is ' + domWindowUtils.screenPixelsPerCSSPixel + '</p>');
		//var util = contentWindow.QueryInterface(Components.interfaces.nsIInterfaceRequestor).getInterface(Components.interfaces.nsIDOMWindowUtils);
		//		            x *= util.screenPixelsPerCSSPixel;
		//document.write('<p>Your viewport document.getBoundingClientRect() is ' + Window.document.getBoundingClientRect() + '</p>');
		//alert('test');
		//var baseWindow = window.QueryInterface(Components.interfaces.nsIInterfaceRequestor).getInterface(Components.interfaces.nsIWebNavigation).QueryInterface(Components.interfaces.nsIDocShellTreeItem).treeOwner.QueryInterface(Components.interfaces.nsIInterfaceRequestor).getInterface(Components.interfaces.nsIBaseWindow);

		//document.write('<p>Your viewport baseWindow is ' + baseWindow + '</p>');

	}

	window.getDevicePixelRatio = function() {
		var ratio = 1;
		// To account for zoom, change to use deviceXDPI instead of systemXDPI
		if (window.screen.systemXDPI !== undefined && window.screen.logicalXDPI !== undefined && window.screen.systemXDPI > window.screen.logicalXDPI) {
			// Only allow for values > 1
			ratio = window.screen.systemXDPI / window.screen.logicalXDPI;
		} else if (window.devicePixelRatio !== undefined) {
			ratio = window.devicePixelRatio;
		}
		return ratio;
	};

	// 	/** sample media query for pixel-ratio=2" **/
	// 	@media  
	// 	(-webkit-min-device-pixel-ratio: 2), 
	// 	(min-resolution: 192dpi) { 
	// 	  .pixel-ratio-holder:before {
	// 	   content: "2";
	// 	  }
	// 	}

	function jsPixelRatio() {
		return window.getComputedStyle(document.querySelector('.pixel-ratio-holder'), 'before').getPropertyValue('content').replace(/[^a-z]/g, '') * 1;
	}
</script>
</head>
<body">
     <p>
          mouse X: <span id="x-value"></span>
     </p>
     <p>
          mouse Y: <span id="y-value"></span>
     </p>
     <p>
          >>>>>>>>>>>>>mouse screen X: <span id="screenX-value"></span>
     </p>
     <p>
          >>>>>>>>>>>>>mouse screen Y: <span id="screenY-value"></span>
     </p>
     <p>
          mouse client X: <span id="clientX-value"></span>
     </p>
     <p>
          mouse client Y: <span id="clientY-value"></span>
     </p>
     <p>
          window.screenLeft: <span id="windowScreenLeft-value"></span>
     </p>
     <p>
          window.screenTop: <span id="windowScreenTop-value"></span>
     </p>
     <p>
          boundingClientRect X: <span id="boundingClientRectX-value"></span>
     </p>
     <p>
          boundingClientRect Y: <span id="boundingClientRectY-value"></span>
     </p>
     <p>
          >>>>>>>>>>>>>screenElement X: <span id="screenElementX-value"></span>
     </p>
     <p>
          >>>>>>>>>>>>>screenElement Y: <span id="screenElementY-value"></span>
     </p>
     <p>
          screenToViewport X: <span id="screenToViewportX-value"></span>
     </p>
     <p>
          screenToViewport Y: <span id="screenToViewportY-value"> </span>
     </p>
     <form id="form1">
          <input id="txtText" type="text" /> <input id="buttonCoordinates" value="Get Coordinates" type="button" onclick="GetTextboxCordinates()" />
     </form>
     <h3>Your Screen:</h3>
     <div id="demo"></div>
     <a href="javascript:onAfterLoad()" id="generateCoordinates">generateCoordinates</a>
</body>
</html>